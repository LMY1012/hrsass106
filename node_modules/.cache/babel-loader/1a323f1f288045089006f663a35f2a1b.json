{"remainingRequest":"C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\src\\permission.js","dependencies":[{"path":"C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\src\\permission.js","mtime":1655264506138},{"path":"C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\babel.config.js","mtime":1655089325320},{"path":"C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655089562873},{"path":"C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\node_modules\\babel-loader\\lib\\index.js","mtime":1655089564691},{"path":"C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\node_modules\\eslint-loader\\index.js","mtime":1655089563279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovVXNlcnMvXHU5NjRDXHU0RTBBXHU4MkIxXHU1RjAwXHVGRjBDXHU1M0VGXHU3RjEzXHU3RjEzXHU1RjUyXHU1RjUyXHU3N0UzL0Rlc2t0b3AvaHJzYWFzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvXHU5NjRDXHU0RTBBXHU4MkIxXHU1RjAwXHVGRjBDXHU1M0VGXHU3RjEzXHU3RjEzXHU1RjUyXHU1RjUyXHU3N0UzL0Rlc2t0b3AvaHJzYWFzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKLy8g5p2D6ZmQ5oum5oiq5q2j5Zyo6Lev55Sx6Lez6L2sIOWvvOiIquWuiOWNqwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyJzsgLy8g6Lev55Sx5a6e5L6L5byV5YWlCgppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7IC8vIOW8leWFpXZ1ZXggc3RvcmXlrp7kvosKCmltcG9ydCBucHJvZ3Jlc3MgZnJvbSAnbnByb2dyZXNzJzsgLy8g5byV5YWl6L+b5bqm5p2h5o+S5Lu2CgppbXBvcnQgJ25wcm9ncmVzcy9ucHJvZ3Jlc3MuY3NzJzsgLy8g5byV5YWl6L+b5bqm5p2h5qC35byPCgp2YXIgd2hpdGVMaXN0ID0gWycvbG9naW4nLCAnLzQwNCddOyAvLyDkuI3pnIDopoHlr7zlh7rvvIzlj6ropoHmiafooYzljbPlj68KLy8g5YmN572u5a6I5Y2rCi8vICh0bywgZnJvbSwgbmV4dCkgIOWIsOWTquWEv+WOuyDvvIzku47lk6rlhL/mnaUg77yMbmV4dOaYr+W/hemhu+aJp+ihjOeahOmSqeWtkOWHvQovLyBuZXh0KCkg6KGo56S65pS+6L+HCgpyb3V0ZXIuYmVmb3JlRWFjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh0bywgZnJvbSwgbmV4dCkgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBpZiAoIXN0b3JlLmdldHRlcnMudG9rZW4pIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghKHRvLnBhdGggPT09ICcvbG9naW4nKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBuZXh0KCcvJyk7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGlmIChzdG9yZS5nZXR0ZXJzLnVzZXJJZCkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCd1c2VyL2dldFVzZXJJbmZvJyk7CgogICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBuZXh0KCk7CgogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgIC8vIOayoeaciXRva2Vu5YC855qE5oOF5Ya1CiAgICAgICAgICAgIGlmICh3aGl0ZUxpc3QuaW5kZXhPZih0by5wYXRoKSA+IC0xKSB7CiAgICAgICAgICAgICAgLy8g6KaB5Y6755qE5Zyw5Z2A5Zyo55m95ZCN5Y2V5LiKCiAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG5leHQoJy9sb2dpbicpOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgbnByb2dyZXNzLmRvbmUoKTsgLy8g5omL5Yqo5YWz6ZetCgogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MiwgX3gzKSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSk7IC8vIOWQjue9ruWuiOWNqwoKcm91dGVyLmFmdGVyRWFjaChmdW5jdGlvbiAoKSB7CiAgbnByb2dyZXNzLmRvbmUoKTsgLy8g5YWz6Zet6L+b5bqm5p2hCn0pOw=="},{"version":3,"names":["router","store","nprogress","whiteList","beforeEach","to","from","next","getters","token","path","userId","dispatch","indexOf","done","afterEach"],"sources":["C:/Users/陌上花开，可缓缓归归矣/Desktop/hrsaas/src/permission.js"],"sourcesContent":["// 权限拦截正在路由跳转 导航守卫\r\nimport router from '@/router' // 路由实例引入\r\nimport store from '@/store' // 引入vuex store实例\r\nimport nprogress from 'nprogress' // 引入进度条插件\r\nimport 'nprogress/nprogress.css' // 引入进度条样式\r\nconst whiteList = ['/login', '/404']\r\n// 不需要导出，只要执行即可\r\n// 前置守卫\r\n// (to, from, next)  到哪儿去 ，从哪儿来 ，next是必须执行的钩子函\r\n// next() 表示放过\r\nrouter.beforeEach(async(to, from, next) => {\r\n// 有token的情况下\r\n  if (store.getters.token) {\r\n    //   要去登录页面，跳出主页\r\n    if (to.path === '/login') {\r\n      next('/')\r\n    } else {\r\n    // 放行的时候需要用户资料\r\n      if (!store.getters.userId) {\r\n      // 如果没有id这个值 才会调用 vuex的获取资料的action\r\n        await store.dispatch('user/getUserInfo')\r\n      // 为什么要写await 因为我们想获取完资料再去放行\r\n      }\r\n      next()\r\n    }\r\n  } else {\r\n    // 没有token值的情况\r\n    if (whiteList.indexOf(to.path) > -1) {\r\n    // 要去的地址在白名单上\r\n      next()\r\n    } else {\r\n      next('/login')\r\n    }\r\n  }\r\n  nprogress.done()// 手动关闭\r\n})\r\n// 后置守卫\r\nrouter.afterEach(function() {\r\n  nprogress.done()// 关闭进度条\r\n})\r\n"],"mappings":";;AAAA;AACA,OAAOA,MAAP,MAAmB,UAAnB,C,CAA8B;;AAC9B,OAAOC,KAAP,MAAkB,SAAlB,C,CAA4B;;AAC5B,OAAOC,SAAP,MAAsB,WAAtB,C,CAAkC;;AAClC,OAAO,yBAAP,C,CAAiC;;AACjC,IAAMC,SAAS,GAAG,CAAC,QAAD,EAAW,MAAX,CAAlB,C,CACA;AACA;AACA;AACA;;AACAH,MAAM,CAACI,UAAP;EAAA,sEAAkB,iBAAMC,EAAN,EAAUC,IAAV,EAAgBC,IAAhB;IAAA;MAAA;QAAA;UAAA;YAAA,KAEZN,KAAK,CAACO,OAAN,CAAcC,KAFF;cAAA;cAAA;YAAA;;YAAA,MAIVJ,EAAE,CAACK,IAAH,KAAY,QAJF;cAAA;cAAA;YAAA;;YAKZH,IAAI,CAAC,GAAD,CAAJ;YALY;YAAA;;UAAA;YAAA,IAQPN,KAAK,CAACO,OAAN,CAAcG,MARP;cAAA;cAAA;YAAA;;YAAA;YAAA,OAUJV,KAAK,CAACW,QAAN,CAAe,kBAAf,CAVI;;UAAA;YAaZL,IAAI;;UAbQ;YAAA;YAAA;;UAAA;YAgBd;YACA,IAAIJ,SAAS,CAACU,OAAV,CAAkBR,EAAE,CAACK,IAArB,IAA6B,CAAC,CAAlC,EAAqC;cACrC;cACEH,IAAI;YACL,CAHD,MAGO;cACLA,IAAI,CAAC,QAAD,CAAJ;YACD;;UAtBa;YAwBhBL,SAAS,CAACY,IAAV,GAxBgB,CAwBA;;UAxBA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAlB;;EAAA;IAAA;EAAA;AAAA,K,CA0BA;;AACAd,MAAM,CAACe,SAAP,CAAiB,YAAW;EAC1Bb,SAAS,CAACY,IAAV,GAD0B,CACV;AACjB,CAFD"}]}