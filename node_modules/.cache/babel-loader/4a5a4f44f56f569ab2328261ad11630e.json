{"remainingRequest":"C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\src\\views\\employees\\components\\add-employee.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\src\\views\\employees\\components\\add-employee.vue","mtime":1656381561213},{"path":"C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\babel.config.js","mtime":1655089325320},{"path":"C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655089562873},{"path":"C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\node_modules\\babel-loader\\lib\\index.js","mtime":1655089564691},{"path":"C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655089562873},{"path":"C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\node_modules\\vue-loader\\lib\\index.js","mtime":1655089565085}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovVXNlcnMvXHU5NjRDXHU0RTBBXHU4MkIxXHU1RjAwXHVGRjBDXHU1M0VGXHU3RjEzXHU3RjEzXHU1RjUyXHU1RjUyXHU3N0UzL0Rlc2t0b3AvaHJzYWFzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvXHU5NjRDXHU0RTBBXHU4MkIxXHU1RjAwXHVGRjBDXHU1M0VGXHU3RjEzXHU3RjEzXHU1RjUyXHU1RjUyXHU3N0UzL0Rlc2t0b3AvaHJzYWFzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBFbXBsb3llZUVudW0gZnJvbSAnQC9hcGkvY29uc3RhbnQvZW1wbG95ZWVzJzsKaW1wb3J0IHsgZ2V0RGVwYXJ0bWVudHMgYXMgX2dldERlcGFydG1lbnRzIH0gZnJvbSAnQC9hcGkvZGVwYXJ0bWVudHMnOwppbXBvcnQgeyB0cmFuc0xpc3RUb1RyZWVEYXRhIH0gZnJvbSAnQC91dGlscyc7CmltcG9ydCB7IGFkZEVtcGxveWVlIH0gZnJvbSAnQC9hcGkvZW1wbG95ZWVzJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBzaG93RGlhbG9nOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgRW1wbG95ZWVFbnVtOiBFbXBsb3llZUVudW0sCiAgICAgIC8vIOWcqGRhdGHkuK3lrprkuYnmlbDmja4KICAgICAgLy8g6KGo5Y2V5pWw5o2uCiAgICAgIHRyZWVEYXRhOiBbXSwKICAgICAgLy8g5a6a5LmJ5pWw57uE5o6l5pS25qCR5b2i5pWw5o2uCiAgICAgIHNob3dUcmVlOiBmYWxzZSwKICAgICAgLy8g5o6n5Yi25qCR5b2i55qE5pi+56S65oiW6ICF6ZqQ6JePCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAvLyDmjqfliLbmoJHnmoTmmL7npLrmiJbogIXpmpDol4/ov5vluqbmnaEKICAgICAgZm9ybURhdGE6IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgbW9iaWxlOiAnJywKICAgICAgICBmb3JtT2ZFbXBsb3ltZW50OiAnJywKICAgICAgICB3b3JrTnVtYmVyOiAnJywKICAgICAgICBkZXBhcnRtZW50TmFtZTogJycsCiAgICAgICAgdGltZU9mRW50cnk6ICcnLAogICAgICAgIGNvcnJlY3Rpb25UaW1lOiAnJwogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIHVzZXJuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn55So5oi35aeT5ZCN5LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMSwKICAgICAgICAgIG1heDogNCwKICAgICAgICAgIG1lc3NhZ2U6ICfnlKjmiLflp5PlkI3kuLoxLTTkvY0nCiAgICAgICAgfV0sCiAgICAgICAgbW9iaWxlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5omL5py65Y+35LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIHBhdHRlcm46IC9eMVszLTldXGR7OX0kLywKICAgICAgICAgIG1lc3NhZ2U6ICfmiYvmnLrlj7fmoLzlvI/kuI3mraPnoa4nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgZm9ybU9mRW1wbG95bWVudDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+iBmOeUqOW9ouW8j+S4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICB3b3JrTnVtYmVyOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5bel5Y+35LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGRlcGFydG1lbnROYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6YOo6Zeo5LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfV0sCiAgICAgICAgdGltZU9mRW50cnk6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICflhaXogYzml7bpl7QnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERlcGFydG1lbnRzOiBmdW5jdGlvbiBnZXREZXBhcnRtZW50cygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfZ2V0RGVwYXJ0bWVudCwgZGVwdHM7CgogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLnNob3dUcmVlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2dldERlcGFydG1lbnRzKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF95aWVsZCRfZ2V0RGVwYXJ0bWVudCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBkZXB0cyA9IF95aWVsZCRfZ2V0RGVwYXJ0bWVudC5kZXB0czsKICAgICAgICAgICAgICAgIC8vIGRlcHRz5piv5pWw57uEIOS9huS4jeaYr+agkeW9ogogICAgICAgICAgICAgICAgX3RoaXMudHJlZURhdGEgPSB0cmFuc0xpc3RUb1RyZWVEYXRhKGRlcHRzLCAnJyk7CiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZWxlY3ROb2RlOiBmdW5jdGlvbiBzZWxlY3ROb2RlKG5vZGUpIHsKICAgICAgdGhpcy5mb3JtRGF0YS5kZXBhcnRtZW50TmFtZSA9IG5vZGUubmFtZTsKICAgICAgdGhpcy5zaG93VHJlZSA9IGZhbHNlOwogICAgfSwKICAgIGJ0bkNhbmNlbDogZnVuY3Rpb24gYnRuQ2FuY2VsKCkgewogICAgICAvLyDph43nva7ljp/mnaXnmoTmlbDmja4KICAgICAgdGhpcy5mb3JtRGF0YSA9IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgbW9iaWxlOiAnJywKICAgICAgICBmb3JtT2ZFbXBsb3ltZW50OiAnJywKICAgICAgICB3b3JrTnVtYmVyOiAnJywKICAgICAgICBkZXBhcnRtZW50TmFtZTogJycsCiAgICAgICAgdGltZU9mRW50cnk6ICcnLAogICAgICAgIGNvcnJlY3Rpb25UaW1lOiAnJwogICAgICB9OyAvLyDmuIXpmaTmoKHpqowKCiAgICAgIHRoaXMuJHJlZnMuYWRkRW1wbG95ZWUucmVzZXRGaWVsZHMoKTsgLy8gICDlhbPpl63lvLnlsYIKICAgICAgLy8gICB1cGRhdGU6cHJvcHPlkI3np7Ag6L+Z5qC35YaZ5Y+v5Lul55u05o6l55Soc3luY+S/rumlsOespuWkhOeQhgoKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnNob3dEaWFsb2cnLCBmYWxzZSk7CiAgICB9LAogICAgYnRuT0s6IGZ1bmN0aW9uIGJ0bk9LKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRyZWZzLmFkZEVtcGxveWVlLnZhbGlkYXRlKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBhZGRFbXBsb3llZShfdGhpczIuZm9ybURhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAvLyDlkYror4nniLbnu4Tku7bmm7TmlrDmlbDmja4KICAgICAgICAgICAgICAgIC8vIHRoaXMuJHBhcmVudCDlj6/ku6Xnm7TmjqXosIPnlKjliLDniLbnu4Tku7bnmoTlrp7kvosg5a6e6ZmF5LiK5bCx5piv54i257uE5Lu2dGhpcwogICAgICAgICAgICAgICAgLy8gdGhpcy4kZW1pdAogICAgICAgICAgICAgICAgX3RoaXMyLiRwYXJlbnQuZ2V0RW1wbG95ZWVMaXN0KCk7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRwYXJlbnQuc2hvd0RpYWxvZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDIudDApOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzAsIDldXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;AACA;AACA;EACAA;IACAC;MACAC,aADA;MAEAC;IAFA;EADA,CADA;EAOAC,IAPA,kBAOA;IACA;MACAC,0BADA;MACA;MACA;MACAC,YAHA;MAGA;MACAC,eAJA;MAIA;MACAC,cALA;MAKA;MACAC;QACAC,YADA;QAEAC,UAFA;QAGAC,oBAHA;QAIAC,cAJA;QAKAC,kBALA;QAMAC,eANA;QAOAC;MAPA,CANA;MAeAC;QACAP;UAAAQ;UAAAC;UAAAC;QAAA,GACA;UAAAC;UAAAC;UAAAH;QAAA,CADA,CADA;QAGAR;UAAAO;UAAAC;UAAAC;QAAA;UACAG,wBADA;UACAJ,mBADA;UACAC;QADA,EAHA;QAMAR;UAAAM;UAAAC;UAAAC;QAAA,EANA;QAOAP;UAAAK;UAAAC;UAAAC;QAAA,EAPA;QAQAN;UAAAI;UAAAC;UAAAC;QAAA,EARA;QASAL;UAAAG;UAAAC;UAAAC;QAAA;MATA;IAfA;EA4BA,CApCA;EAqCAI;IACAC,cADA,4BACA;MAAA;;MAAA;QAAA;;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBAFA;gBAAA,OAGAA,iBAHA;;cAAA;gBAAA;gBAGAC,KAHA,yBAGAA,KAHA;gBAIA;gBACA;gBACA;;cANA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAOA,CARA;IASAC,UATA,sBASAC,IATA,EASA;MACA;MACA;IACA,CAZA;IAaAC,SAbA,uBAaA;MACA;MACA;QACAnB,YADA;QAEAC,UAFA;QAGAC,oBAHA;QAIAC,cAJA;QAKAC,kBALA;QAMAC,eANA;QAOAC;MAPA,EAFA,CAWA;;MACA,qCAZA,CAaA;MACA;;MACA;IACA,CA7BA;IA8BAc,KA9BA,mBA8BA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEA,mCAFA;;cAAA;gBAAA;gBAAA,OAIAC,4BAJA;;cAAA;gBAKA;gBACA;gBACA;gBACA;;gBACA;gBATA;gBAAA;;cAAA;gBAAA;gBAAA;gBAWAC;;cAXA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAaA;EA3CA;AArCA","names":["props","showDialog","type","default","data","EmployeeEnum","treeData","showTree","loading","formData","username","mobile","formOfEmployment","workNumber","departmentName","timeOfEntry","correctionTime","rules","required","message","trigger","min","max","pattern","methods","getDepartments","depts","selectNode","node","btnCancel","btnOK","addEmployee","console"],"sourceRoot":"src/views/employees/components","sources":["add-employee.vue"],"sourcesContent":["<template>\r\n  <!-- sync修饰符 -->\r\n  <!--props变量在当前的组件的作用域中是只读的\r\n      sync修饰符作用的属性 后面的变量不能是props变量-->\r\n  <el-dialog title=\"新增员工\" :visible=\"showDialog\" @close=\"btnCancel\">\r\n    <!-- 放置内容 -->\r\n    <el-form ref=\"addEmployee\" :model=\"formData\" :rules=\"rules\" label-width=\"120px\">\r\n      <el-form-item label=\"姓名\" prop=\"username\">\r\n        <el-input v-model=\"formData.username\" class=\"wp50\" placeholder=\"请输入姓名\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"手机号\" prop=\"mobile\">\r\n        <el-input v-model=\"formData.mobile\" class=\"wp50\" placeholder=\"请输入手机号\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"入职时间\" prop=\"timeOfEntry\">\r\n        <el-date-picker v-model=\"formData.timeOfEntry\" class=\"wp50\" placeholder=\"请选择入职时间\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"聘用形式\" prop=\"formOfEmployment\">\r\n        <el-select v-model=\"formData.formOfEmployment\" class=\"wp50\" placeholder=\"请选择聘用形式\">\r\n          <el-option v-for=\"item in EmployeeEnum.hireType\" :key=\"item.id\" :label=\"item.value\" :value=\"item.id\" />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"工号\" prop=\"workNumber\">\r\n        <el-input v-model=\"formData.workNumber\" class=\"wp50\" placeholder=\"请输入工号\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"部门\" prop=\"departmentName\">\r\n        <el-input v-model=\"formData.departmentName\" class=\"wp50\" placeholder=\"请选择部门\" @focus=\"getDepartments\" />\r\n        <!-- 放置一个树形组件 el-tree默认显示的字段 label 默认找节点的字段是children-->\r\n        <!-- props -->\r\n        <el-tree\r\n          v-if=\"showTree\"\r\n          v-loading=\"loading\"\r\n          :data=\"treeData\"\r\n          default-expand-all=\"\"\r\n          :props=\"{ label: 'name' }\"\r\n          @node-click=\"selectNode\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item label=\"转正时间\" prop=\"correctionTime\">\r\n        <el-date-picker v-model=\"formData.correctionTime\" class=\"wp50\" placeholder=\"请选择转正时间\" />\r\n      </el-form-item>\r\n    </el-form>\r\n    <!-- footer插槽 -->\r\n    <template v-slot:footer>\r\n      <el-row type=\"flex\" justify=\"center\">\r\n        <el-col :span=\"6\">\r\n          <el-button size=\"small\" @click=\"btnCancel\">取消</el-button>\r\n          <el-button type=\"primary\" size=\"small\" @click=\"btnOK\">确定</el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport EmployeeEnum from '@/api/constant/employees'\r\nimport { getDepartments } from '@/api/departments'\r\nimport { transListToTreeData } from '@/utils'\r\nimport { addEmployee } from '@/api/employees'\r\nexport default {\r\n  props: {\r\n    showDialog: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      EmployeeEnum, // 在data中定义数据\r\n      // 表单数据\r\n      treeData: [], // 定义数组接收树形数据\r\n      showTree: false, // 控制树形的显示或者隐藏\r\n      loading: false, // 控制树的显示或者隐藏进度条\r\n      formData: {\r\n        username: '',\r\n        mobile: '',\r\n        formOfEmployment: '',\r\n        workNumber: '',\r\n        departmentName: '',\r\n        timeOfEntry: '',\r\n        correctionTime: ''\r\n      },\r\n      rules: {\r\n        username: [{ required: true, message: '用户姓名不能为空', trigger: 'blur' },\r\n          { min: 1, max: 4, message: '用户姓名为1-4位' }],\r\n        mobile: [{ required: true, message: '手机号不能为空', trigger: 'blur' }, {\r\n          pattern: /^1[3-9]\\d{9}$/, message: '手机号格式不正确', trigger: 'blur'\r\n        }],\r\n        formOfEmployment: [{ required: true, message: '聘用形式不能为空', trigger: 'blur' }],\r\n        workNumber: [{ required: true, message: '工号不能为空', trigger: 'blur' }],\r\n        departmentName: [{ required: true, message: '部门不能为空', trigger: 'change' }],\r\n        timeOfEntry: [{ required: true, message: '入职时间', trigger: 'blur' }]\r\n\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async getDepartments() {\r\n      this.showTree = true\r\n      this.loading = true\r\n      const { depts } = await getDepartments()\r\n      // depts是数组 但不是树形\r\n      this.treeData = transListToTreeData(depts, '')\r\n      this.loading = false\r\n    },\r\n    selectNode(node) {\r\n      this.formData.departmentName = node.name\r\n      this.showTree = false\r\n    },\r\n    btnCancel() {\r\n    // 重置原来的数据\r\n      this.formData = {\r\n        username: '',\r\n        mobile: '',\r\n        formOfEmployment: '',\r\n        workNumber: '',\r\n        departmentName: '',\r\n        timeOfEntry: '',\r\n        correctionTime: ''\r\n      }\r\n      // 清除校验\r\n      this.$refs.addEmployee.resetFields()\r\n      //   关闭弹层\r\n      //   update:props名称 这样写可以直接用sync修饰符处理\r\n      this.$emit('update:showDialog', false)\r\n    },\r\n    async btnOK() {\r\n      try {\r\n        await this.$refs.addEmployee.validate()\r\n        //    调用新增接口\r\n        await addEmployee(this.formData)\r\n        // 告诉父组件更新数据\r\n        // this.$parent 可以直接调用到父组件的实例 实际上就是父组件this\r\n        // this.$emit\r\n        this.$parent.getEmployeeList()\r\n        this.$parent.showDialog = false\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"]}]}