{"remainingRequest":"C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\src\\views\\employees\\detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\src\\views\\employees\\detail.vue","mtime":1656413290837},{"path":"C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655089562873},{"path":"C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\node_modules\\babel-loader\\lib\\index.js","mtime":1655089564691},{"path":"C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1655089562873},{"path":"C:\\Users\\陌上花开，可缓缓归归矣\\Desktop\\hrsaas\\node_modules\\vue-loader\\lib\\index.js","mtime":1655089565085}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyDkv53lrZjlkZjlt6XnmoTln7rmnKzkv6Hmga8NCi8vIGltcG9ydCB7IHNhdmVVc2VyRGV0YWlsQnlJZCB9IGZyb20gJ0AvYXBpL2VtcGxveWVlcycNCi8vIC8vIOiOt+WPluafkOS4queUqOaIt+eahOWfuuacrOS/oeaBrw0KLy8gaW1wb3J0IHsgZ2V0VXNlckRldGFpbEJ5SWQgfSBmcm9tICdAL2FwaS91c2VyJw0KaW1wb3J0IHsgZ2V0VXNlckRldGFpbEJ5SWQgfSBmcm9tICdAL2FwaS91c2VyJw0KaW1wb3J0IHsgc2F2ZVVzZXJEZXRhaWxCeUlkIH0gZnJvbSAnQC9hcGkvZW1wbG95ZWVzJw0KaW1wb3J0IHVzZXJJbmZvIGZyb20gJy4vY29tcG9uZW50cy91c2VyLWluZm8udnVlJw0KaW1wb3J0IGpvYkluZm8gZnJvbSAnLi9jb21wb25lbnRzL2pvYi1pbmZvLnZ1ZScNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogeyB1c2VySW5mbywgam9iSW5mbyB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvLyDlsIbliqjmgIHot6/nlLHlj4LmlbBpZOi1i+WAvOe7meS6hnVzZXJJZOi/meS4quWxnuaApw0KICAgICAgdXNlckNvbXBvbmVudDogdXNlckluZm8sDQogICAgICBqb2JDb21wb25lbnQ6IGpvYkluZm8sDQogICAgICAvLyDov5nmoLflj6/ku6XlkI7pnaLnm7TmjqXpgJrov4cgdGhpcy51c2VySWTov5vooYzojrflj5bmlbDmja4NCiAgICAgIHVzZXJJZDogdGhpcy4kcm91dGUucGFyYW1zLmlkLA0KICAgICAgLy8g5a2Y5pS+5Z+65pys5L+h5oGvDQogICAgICB1c2VySW5mbzogew0KICAgICAgICB1c2VybmFtZTogJycsDQogICAgICAgIHBhc3N3b3JkOiAnJw0KICAgICAgfSwNCiAgICAgIC8vICAg5qCh6aqM6KeE5YiZDQogICAgICBydWxlczogew0KICAgICAgICB1c2VybmFtZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICflp5PlkI3kuI3og73kuLrnqbonLCB0cmlnZ2VyOiAnYmx1cicgfV0sDQogICAgICAgIHBhc3N3b3JkOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+WvhueggeS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJyB9LA0KICAgICAgICAgIHsgbWluOiA2LCBtYXg6IDksIG1lc3NhZ2U6ICflr4bnoIHplb/luqY2LTnkvY0nLCB0cmlnZ2VyOiAnYmx1cicgfV0NCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRVc2VyRGV0YWlsQnlJZCgpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBnZXRVc2VyRGV0YWlsQnlJZCgpIHsNCiAgICAgIHRoaXMudXNlckluZm8gPSBhd2FpdCBnZXRVc2VyRGV0YWlsQnlJZCh0aGlzLnVzZXJJZCkNCiAgICB9LA0KICAgIC8vIOabtOaWsOS/oeaBrw0KICAgIGFzeW5jIHNhdmVVc2VyKCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgLy8g5qCh6aqMDQogICAgICAgIGF3YWl0IHRoaXMuJHJlZnMudXNlckZvcm0udmFsaWRhdGUoKQ0KICAgICAgICBhd2FpdCBzYXZlVXNlckRldGFpbEJ5SWQodGhpcy51c2VySW5mbykgLy8g5bCG5paw5a+G56CB55qE5YC85pu/5o2i5Y6f5a+G56CB55qE5YC8DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5L+d5a2Y5oiQ5YqfJykNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQp9DQo="},{"version":3,"sources":["detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"detail.vue","sourceRoot":"src/views/employees","sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n    <div class=\"app-container\">\r\n      <el-card>\r\n        <el-tabs>\r\n          <el-tab-pane label=\"登录账户设置\">\r\n\r\n            <!-- 放置表单 -->\r\n            <!-- 绑定信息，增加校验规则 -->\r\n            <el-form ref=\"userForm\" :model=\"userInfo\" :rules=\"rules\" label-width=\"120px\" style=\"margin-left: 120px; margin-top:30px\">\r\n              <el-form-item label=\"姓名:\" prop=\"username\">\r\n                <el-input v-model=\"userInfo.username\" style=\"width:300px\" />\r\n              </el-form-item>\r\n              <el-form-item label=\"密码:\" prop=\"password\">\r\n                <el-input v-model=\"userInfo.password\" style=\"width:300px\" type=\"password\" />\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-button type=\"primary\" @click=\"saveUser\">更新</el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n          </el-tab-pane>\r\n\r\n          <el-tab-pane label=\"个人详情\">\r\n            <!-- <user-info /> -->\r\n            <!-- component中的is必须是动态变量 -->\r\n            <component :is=\"userComponent\" />\r\n          </el-tab-pane>\r\n\r\n          <el-tab-pane label=\"岗位信息\">\r\n            <component :is=\"jobComponent\" />\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 保存员工的基本信息\r\n// import { saveUserDetailById } from '@/api/employees'\r\n// // 获取某个用户的基本信息\r\n// import { getUserDetailById } from '@/api/user'\r\nimport { getUserDetailById } from '@/api/user'\r\nimport { saveUserDetailById } from '@/api/employees'\r\nimport userInfo from './components/user-info.vue'\r\nimport jobInfo from './components/job-info.vue'\r\nexport default {\r\n  components: { userInfo, jobInfo },\r\n  data() {\r\n    return {\r\n      // 将动态路由参数id赋值给了userId这个属性\r\n      userComponent: userInfo,\r\n      jobComponent: jobInfo,\r\n      // 这样可以后面直接通过 this.userId进行获取数据\r\n      userId: this.$route.params.id,\r\n      // 存放基本信息\r\n      userInfo: {\r\n        username: '',\r\n        password: ''\r\n      },\r\n      //   校验规则\r\n      rules: {\r\n        username: [{ required: true, message: '姓名不能为空', trigger: 'blur' }],\r\n        password: [{ required: true, message: '密码不能为空', trigger: 'blur' },\r\n          { min: 6, max: 9, message: '密码长度6-9位', trigger: 'blur' }]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getUserDetailById()\r\n  },\r\n  methods: {\r\n    async getUserDetailById() {\r\n      this.userInfo = await getUserDetailById(this.userId)\r\n    },\r\n    // 更新信息\r\n    async saveUser() {\r\n      try {\r\n        // 校验\r\n        await this.$refs.userForm.validate()\r\n        await saveUserDetailById(this.userInfo) // 将新密码的值替换原密码的值\r\n        this.$message.success('保存成功')\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"]}]}